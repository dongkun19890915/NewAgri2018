<!-- 公用头部 -->
<div class="main">
<div class="content_div section commentWidth">
    <div class="position">
        <span class="ml10">当前位置：</span>
        <span class="local-fir">影像资料 > </span>
        <span class="local-sec">影像查询</span>
    </div>
    <div class="queryCriteria">
        <span class="queryCriteria_title">
            <label>查询条件</label>
            <span class="click_img" ng-click="addFrom()">
                 <i class="iconfont" style="font-size: 20px;" ng-show="!uploadfileShow">&#xe667;</i>
                 <i class="iconfont" style="font-size: 20px;" ng-show="uploadfileShow">&#xe668;</i>
            </span>
        </span>
        <div class="condition_table pt4">
            <ul class="clearfix">
                <li class="condition_td teaR fl">
                    <label>业务类型</label>
                    <select ng-model="proposal.prpTmain.proposalType">
                        <option value="1">投保单</option>
                        <option value="2">保单</option>
                        <option value="3">批单</option>
                    </select>
                </li>
                <li class="condition_td teaC fl">
                    <label>业务号码</label>
                    <div>
                        <input type="text" ng-model="proposal.prpTmain.proposalNo" maxlength="40" ng-change="changeproposalNo(proposal.prpTmain.proposalNo)" ng-blur="checkproposalNo($event,proposal.prpTmain.proposalNo)" ng-class="{'checkOutBdRed':check.proposalNo}" class="">
                        <s ng-bind="check.proposalNo"></s>
                    </div>
                </li>
                <li class="condition_td teaL fl">
                    <label>投保人名称</label>
                    <div>
                        <input type="text" ng-model="proposal.prpTmain.appliName" maxlength="40" ng-blur="checkappliName($event,proposal.prpTmain.appliName)" ng-class="{'checkOutBdRed':check.appliName}" class="">
                        <s ng-bind="check.appliName"></s>
                    </div>
                </li>
                <li class="condition_td teaR fl">
                    <label>投保人代码</label>
                    <div>
                        <input type="text" ng-model="proposal.prpTmain.appliCode" maxlength="40" ng-blur="checkappliCode($event,proposal.prpTmain.appliCode)" ng-class="{'checkOutBdRed':check.appliCode}" class="">
                        <s ng-bind="check.appliCode"></s>
                    </div>
                </li>
                <li class="condition_td teaC fl">
                    <label>被保人名称</label>
                    <div>
                        <input type="text" ng-model="proposal.prpTmain.insuredName" maxlength="40" ng-blur="checkinsuredName($event,proposal.prpTmain.insuredName)" ng-class="{'checkOutBdRed':check.insuredName}" class="">
                        <s ng-bind="check.insuredName"></s>
                    </div>
                </li>
                <li class="condition_td teaL fl">
                    <label>被保人代码</label>
                    <div>
                        <input type="text" ng-model="proposal.prpTmain.insuredCode" maxlength="40" ng-blur="checkinsuredCode($event,proposal.prpTmain.insuredCode)" ng-class="{'checkOutBdRed':check.insuredCode}" class="">
                        <s ng-bind="check.insuredCode"></s>
                    </div>
                </li>
                <li ng-show="uploadfileShow">
                    <ul class="clearfix">
                       <!-- <li class="condition_td teaR fl">
                            <label>出单机构</label>
                            <div>
                                <input type="text" ng-model="proposal.prpTmain.sumAmount" maxlength="40" ng-blur="checksumAmount($event,proposal.prpTmain.sumAmount)" ng-class="{'checkOutBdRed':check.sumAmount}"/>
                                <s ng-bind="check.sumAmount"></s>
                            </div>

                        </li>-->
                        <li class="condition_td teaL fl">
                            <label>出单机构</label>
                            <div class="codeType codeNoBor"  >
                                <ui-select history ng-model="proposal.prpTmain.sumAmount"
                                           ng-click="getComCodeList()"
                                >
                                    <ui-select-match placeholder="查询或选择..." ng-attr-title="{{$select.selected.comCName}}">
                                        {{$select.selected.comCName}}
                                    </ui-select-match>
                                    <ui-select-choices repeat="code.comCode as code in selectListData.comCodeList | filter: $select.search">
                                        <span ng-bind="code.comCName" ng-attr-title="{{code.comCName}}"></span>
                                    </ui-select-choices>
                                </ui-select>
                            </div>
                        </li>
                        <li class="condition_td teaR fl">
                            <label>业务员代码</label>
                            <div>
                                <input type="text" ng-model="proposal.prpTmain.handler1Code" maxlength="40" ng-blur="checkhandler1Code($event,proposal.prpTmain.handler1Code)"  ng-class="{'checkOutBdRed':check.handler1Code}" ng-keypress="pressDecimal($event)"/>
                                <s ng-bind="check.handler1Code"></s>
                            </div>

                        </li>
                        <li class="condition_td teaC fl">
                            <label>操作员代码</label>
                            <div>
                                <input type="text" ng-model="proposal.prpTmain.operatorCode" maxlength="40" ng-blur="checkoperatorCode($event,proposal.prpTmain.operatorCode)" ng-class="{'checkOutBdRed':check.operatorCode}">
                                <s ng-bind="check.operatorCode"></s>
                            </div>

                        </li>
                        <li class="condition_td teaL fl">
                            <label>制单日期</label>
                            <input style="width: 26%;position: relative;left:-4px;" type="text" id="idDataStart2" jedate
                                   class="date-input proposal_date " ng-model="proposal.prpTmain.operateStartDate"
                                   format="YYYY-MM-DD" required readonly/>
                            <i class="fl">-</i>
                            <input style="width: 26%;" type="text" id="idDataEnd2" jedate
                                   class="date-input proposal_date " ng-model="proposal.prpTmain.operateEndDate"
                                   format="YYYY-MM-DD"
                                   required readonly/>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="btn_tr clearfix">
                <span class="fl" ng-click="submit()">查询</span>
                <span class="fr" ng-click="reset()">重置</span>
            </div>
        </div>
    </div>
    <div class="queryResult">
        <div class="queryResult_title clearfix">
            <span class="fl">查询结果</span>
            <label class="fr" ng-click="upLoading()">上传</label>
        </div>
        <table>
            <tr class="tr_top">
                <td >选择</td>
                <td >业务号</td>
                <td >投保人名称</td>
                <td >被保险人名称</td>
                <td >操作员</td>
                <td >操作时间</td>
                <td >操作</td>
            </tr>
            <tr class="tr_content F2F2F2" ng-repeat="info in proposal.QueryList track by $index">
                <td >
                    <!--<radio ng-model="info.checked"></radio>-->
                    <input class="cur" name="checkTrue" type="radio" ng-value="info.proposalNo||info.endorseNo||info.policyNo" ng-model="info.checked"  ng-change="selectOne($index)"/>
                </td>
                <td class="C2DBE61 cur">
                    <span ng-bind="info.endorseNo||(info.policyNo?info.policyNo:info.proposalNo)" ng-click="otherpage(info.endorseNo||(info.policyNo?info.policyNo:info.proposalNo),'Examine')"></span>
                </td>
                <td ng-bind="info.appliName"></td>
                <td ng-bind="info.insuredName"></td>
                <td ng-bind="info.operatorCode"></td>
                <td ng-bind="info.inputDate||info.operateDate"></td>
                <td class=" cur" ng-click="checkVideo($index)"><i class="mesColor">查看影像</i></td>
            </tr>
        </table>
        <div ng-show="isEmptyObject(proposal.QueryList)||proposal.QueryList.length==0" ng-class="{'not-query':isEmptyObject(proposal.QueryList),'query-null':proposal.QueryList.length==0}" class="not-query"></div>
        <div class="index_page">
            <tm-pagination conf="paginationConfmm"></tm-pagination>
        </div>
    </div>
</div>
</div>