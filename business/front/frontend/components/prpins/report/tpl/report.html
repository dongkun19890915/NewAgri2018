<!--保单综合查询-->
<div class="index_con">
    <!--搜索条件-->
    <div class="index_list">
        <div class="index_tit"><h6>搜索条件</h6></div>
        <ng-form novalidate="novalidate" name="reportSearchForm" >
            <ul class="list_ul list_ul_bor">
                <li><span>保单综合查询类型：</span></li>
                <li class="li_tabs">
                    <div class="marr43">
                        <label class="mar_right" ng-class="{true:'on',false:'radio'}[reportLeft]"  ng-click="reportRadioClick()"><input type="radio" value="C" class="hide" name="trafficIns" ng-model="PolicyQueryConditionDto.bizType"/><em>保单</em></label>
                        <label ng-class="{true:'radio',false:'on'}[reportRight]" ng-click="reportRadioClick1()"><input type="radio" class="hide" value="T" name="trafficIns" ng-model="PolicyQueryConditionDto.bizType" /><em>投保单</em></label>
                    </div>
                </li>
                <li ng-if="!proposalName"><span>保单号码：</span></li>
                <li ng-if="!proposalName">
                    <input type="text" class="fl" ng-model="PolicyQueryConditionDto.bizNo" warn-text="{'ErrPattern':'保单号码只能输入字母和数字'}"  ng-pattern="/^[A-Za-z0-9]*$/"  >
                </li>
                <li ng-if="proposalName"><span>投保单号码：</span></li>
                <li ng-if="proposalName">
                    <input type="text" class="fl" ng-model="PolicyQueryConditionDto.bizNo" warn-text="{'ErrPattern':'投保单号码只能输入字母和数字'}"  ng-pattern="/^[A-Za-z0-9]*$/"  >
                </li>
                <li><span>投保人证件类型：</span></li>
                <li>
                    <div class="ui-select">
                        <code-type  class="seletc_bor" base-code="IdentifyType" ng-model='PolicyQueryConditionDto.identifyType' ng-disabled="false" is-fuzzy="true"></code-type>
                    </div>
                </li>
                <li><span>投保人证件号码：</span></li>
                <li>
                    <input type="text" class="fl" ng-model="PolicyQueryConditionDto.identifyNumber" sv-credit="PolicyQueryConditionDto.identifyType" warn-text="{'ErrPattern':'投保人证件号码只能输入字母和数字'}"  ng-pattern="/^[A-Za-z0-9]*$/"    ng-maxlength="30" maxlength="30" >
                </li>
                <li><span>投保人名称：</span></li>
                <li><input type="text" class="fl"    ng-maxlength="30" maxlength="30" ng-model="PolicyQueryConditionDto.applyName"></li>
                <li>
                    <span ng-if="bizTypeC" >保单状态：</span>
                    <span ng-if="bizTypeT" >投保单状态：</span>
                </li>
                <li>
                    <div class="ui-select" ng-show="bizTypeT">
                        <code-type  class="seletc_bor" base-code="ProposalStatus" ng-model='PolicyQueryConditionDto.status' ng-disabled="false" is-fuzzy="true"></code-type>
                    </div>
                    <div class="ui-select" ng-show="bizTypeC">
                        <code-type class="seletc_bor" base-code="PolicyStatus" ng-model='PolicyQueryConditionDto.status' ng-disabled="false" is-fuzzy="true"></code-type>
                    </div>
                </li>
                <li><span>保单生效日（开始）：</span></li>
                <li>
                    <input type="text" class="fl date" jedate  format="YYYY-MM-DD" readonly  value="2016/01/21" ng-model="PolicyQueryConditionDto.startDateBegin" id="startDateBegin"
                           warn-text="{'ErrPattern':'保单生效日（开始）格式不正确'}"  ng-pattern="/(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)/" >
                </li>
                <li><span>保单生效日（结束）：</span></li>
                <li>
                    <input type="text" class="fl date" jedate  format="YYYY-MM-DD" readonly  value="2016/01/21" ng-model="PolicyQueryConditionDto.startDateEnd" id="startDateEnd" warn-text="{'ErrPattern':'保单生效日（结束）格式不正确'}"  ng-pattern="/(([0-9]{3}[1-9]|[0-9]{2}[1-9][0-9]{1}|[0-9]{1}[1-9][0-9]{2}|[1-9][0-9]{3})-(((0[13578]|1[02])-(0[1-9]|[12][0-9]|3[01]))|((0[469]|11)-(0[1-9]|[12][0-9]|30))|(02-(0[1-9]|[1][0-9]|2[0-8]))))|((([0-9]{2})(0[48]|[2468][048]|[13579][26])|((0[48]|[2468][048]|[3579][26])00))-02-29)/">
                </li>
                <li><span>保单录入人员代码：</span></li>
                <li><input type="text" class="fl" ng-model="PolicyQueryConditionDto.operatorCode"  ng-maxlength="20" maxlength="20"  warn-text="{'ErrPattern':'保单录入人员代码只能输入字母和数字'}"  ng-pattern="/^[A-Za-z0-9]*$/" ></li>

                <li><span>业务归属人员代码：</span></li>
                <li><input type="text" class="fl" ng-model="PolicyQueryConditionDto.handler1Code"  ng-maxlength="20" maxlength="20"  warn-text="{'ErrPattern':'业务归属人员代码只能输入字母和数字'}"  ng-pattern="/^[A-Za-z0-9]*$/" ></li>
            </ul>
        </ng-form>
        <div class="pending_btn">
            <div class="pending_btn1">
                <span class="a_search" ng-click="reportQuery()">搜索</span>
                <span class="a_reset" ng-click="resetSearchForm()">重置</span>
            </div>
        </div>
    </div>
    <!--搜索结果-->
    <div class="index_list index_list_table">
        <div class="index_tit">
            <h6 class="fl">搜索结果</h6>
        </div>
        <table class="table table-striped table-bordered table-hover">
            <tr>
                <th class="t_first">保单状态</th>
                <th ng-click="resultSort(0);col='proposalNo';desc0=!desc0;desc=desc0">
                    <span class="span_text">投保单号码</span>
                    <span class="span_sort">
                        <div class="sort_up" ng-class="{false:'sort_up_click',true:''}[desc0]"></div>
                        <div class="sort_down" ng-class="{false:'',true:'sort_down_click'}[desc0]"></div>
                    </span>
                </th>
                <th ng-click="resultSort(1);col='policyNo';desc1=!desc1;desc=desc1" ng-hide="reportTable1">
                    <span class="span_text">保单号码</span>
                    <span class="span_sort">
                        <div class="sort_up" ng-class="{false:'sort_up_click',true:''}[desc1]"></div>
                        <div class="sort_down" ng-class="{false:'',true:'sort_down_click'}[desc1]"></div>
                    </span>

                </th>
                <th>投保人名称</th>
                <th ng-click="resultSort(2);col='startDate';desc2=!desc2;desc=desc2">
                    <span class="span_text">保单生效日</span>
                    <span class="span_sort">
                        <div class="sort_up" ng-class="{false:'sort_up_click',true:''}[desc2]"></div>
                        <div class="sort_down" ng-class="{false:'',true:'sort_down_click'}[desc2]"></div>
                    </span>
                </th>
                <th ng-click="resultSort(3);col='inputTime';desc3=!desc3;desc=desc3">
                    <span class="span_text">投保日期</span>
                    <span class="span_sort">
                        <div class="sort_up" ng-class="{false:'sort_up_click',true:''}[desc3]"></div>
                        <div class="sort_down" ng-class="{false:'',true:'sort_down_click'}[desc3]"></div>
                    </span>
                </th>
                <th ng-click="resultSort(4);col='sumPremium';desc4=!desc4;desc=desc4">
                    <span class="span_text">保费(元)</span>
                    <span class="span_sort">
                        <div class="sort_up" ng-class="{false:'sort_up_click',true:''}[desc4]"></div>
                        <div class="sort_down" ng-class="{false:'',true:'sort_down_click'}[desc4]"></div>
                    </span>
                </th>
                <th class="t_last" >归属业务人员代码</th>
            </tr>
            <tr ng-repeat="d in reportData|orderBy:col:desc">
                <td class="t_first" ng-bind="d.statusName"></td>
                <td><span class="a_edit" ng-bind="d.proposalNo" ng-click="reportProposal(d)"></span></td>
                <td ng-hide="reportTable2"><span class="a_edit" ng-bind="d.policyNo" ng-click="reportPolicy(d.policyNo)"></span></td>
                <td ng-bind="d.applyName"></td>
                <td>{{d.startDate|limitTo:10}}</td>
                <td>{{d.operateDate|limitTo:10}}</td>
                <td ng-bind="d.sumPremium |number:2"></td>
                <td class="t_last" ng-bind="d.handler1Code"></td>
            </tr>
        </table>
        <div class="index_page">
            <tm-pagination conf="paginationConf"></tm-pagination>
        </div>
        <!--按钮-->
        <div class="index_btn1">
            <span class="submit" ng-click="onEdit()">退 出</span>
        </div>
    </div>
</div>
